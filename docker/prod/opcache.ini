; ==========================================
; OPcache 프로덕션 최적화 설정
; ==========================================

[opcache]
; OPcache 활성화
opcache.enable=1
opcache.enable_cli=1

; 메모리 설정 (128MB)
opcache.memory_consumption=128

; 인터닝 문자열 버퍼 (8MB)
opcache.interned_strings_buffer=8

; 캐시할 최대 스크립트 수
opcache.max_accelerated_files=10000

; 코드 변경 확인 비활성화 (프로덕션용)
opcache.validate_timestamps=0
opcache.revalidate_freq=0

; JIT 컴파일러 활성화 (PHP 8+)
opcache.jit_buffer_size=100M
opcache.jit=1255

; 최적화 수준 (최대)
opcache.optimization_level=0x7FFEBFFF

; 파일 캐시 (Docker 재시작 시에도 유지)
opcache.file_cache=/tmp/opcache
opcache.file_cache_only=0
opcache.file_cache_consistency_checks=1

; 거대한 페이지 사용 (성능 향상)
opcache.huge_code_pages=1

; Preloading (Laravel용)
; opcache.preload=/var/www/html/preload.php
; opcache.preload_user=www-data
